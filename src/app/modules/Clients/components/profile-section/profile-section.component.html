<div class="profile-header">
  <h1>PROFILE</h1>
  <p>Welcome back to your profile! Here's your activity summary.</p>
</div>

<div class="profile-section-container">

  <!-- Personal Info Section -->
  <div class="card profile-card">
    <h2>Personal Info</h2>
    <hr>
    <form [formGroup]="personalInfoForm" (ngSubmit)="savePersonalInfo()">
      <div class="profile-img-upload">
        <img [src]="profileImgPreview" alt="Profile Image" class="profile-img-preview" />
        <input *ngIf="editPersonalInfo" type="file" (change)="onProfileImgChange($event)" accept="image/*" />
      </div>
      <div class="form-field full-width">
        <label>Full Name</label>
        <input formControlName="fullName" [readonly]="!editPersonalInfo" />
      </div>
      <div class="button-row" *ngIf="editPersonalInfo">
        <button class="btn btn-primary" type="submit">Save Changes</button>
        <button class="btn" type="button" (click)="closePersonalInfo()">Close</button>
      </div>
      <div class="button-row" *ngIf="!editPersonalInfo">
        <button class="btn btn-stroked" type="button" (click)="editPersonal()">Edit</button>
      </div>
    </form>
  </div>

  <!-- Contact Info Section -->
  <div class="card profile-card">
    <h2>Contact Info</h2>
    <hr>
    <form [formGroup]="contactInfoForm" (ngSubmit)="saveContactInfo()">
      <div class="form-field full-width">
        <label>Email</label>
        <input formControlName="email" [readonly]="!editContactInfo" />
      </div>
      <div class="form-field full-width">
        <label>Phone Number</label>
        <input formControlName="phoneNumber" [readonly]="!editContactInfo" />
      </div>
      <div class="button-row" *ngIf="editContactInfo">
        <button class="btn btn-primary" type="submit">Save Changes</button>
        <button class="btn" type="button" (click)="closeContactInfo()">Close</button>
      </div>
      <div class="button-row" *ngIf="!editContactInfo">
        <button class="btn btn-stroked" type="button" (click)="editContact()">Edit</button>
      </div>
    </form>
  </div>

  <!-- Change Password Section -->
  <div class="card profile-card">
    <h2>Change Password</h2>
    <hr>
    <form [formGroup]="passwordForm" (ngSubmit)="savePassword()">
      <div class="form-field full-width">
        <label>Current Password</label>
        <input type="password" formControlName="currentPassword" [readonly]="!editPassword" />
      </div>
      <div class="form-field full-width">
        <label>New Password</label>
        <input type="password" formControlName="newPassword" [readonly]="!editPassword" />
      </div>
      <div class="button-row" *ngIf="editPassword">
        <button class="btn btn-primary" type="submit">Save Changes</button>
        <button class="btn" type="button" (click)="closePassword()">Close</button>
      </div>
      <div class="button-row" *ngIf="!editPassword">
        <button class="btn btn-stroked" type="button" (click)="editPass()">Edit</button>
      </div>
    </form>
  </div>

  <!-- Delete Account Section -->
  <div class="card profile-card delete-section">
    <h2>Delete Account</h2>
    <hr>
    <div class="delete-warning">
      When you delete your account, your public profile will be deactivated immediately. If you change your mind before 14 days, just sign in again and weâ€™ll send you a reactivation link.
    </div>
    <button class="btn btn-warn" (click)="openDeleteDialog()">Delete Account</button>
    <div class="dialog-content" *ngIf="isDeleting">
      <div class="delete-dialog">
        <p>Are you sure you want to delete your account? This action cannot be undone.</p>
        <button class="btn btn-warn" (click)="confirmDeleteAccount()">Yes, Delete</button>
        <button class="btn" (click)="closeDeleteDialog()">Cancel</button>
      </div>
    </div>
  </div>

</div>
