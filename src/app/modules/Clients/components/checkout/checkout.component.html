<div class="checkout-page d-flex gap-4">
  <!-- ğŸ‘ˆ Steps Column -->
  <div class="checkout-steps flex-grow-1">

    <!-- Ø²Ø± Ø§Ø®ØªÙŠØ§Ø± Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„ØªÙˆØµÙŠÙ„ -->
    <div class="d-flex justify-content-between mb-4">
      <button
        type="button"
        class="btn-option"
        [class.active]="deliveryMethod === 'ship'"
        (click)="selectDeliveryMethod('ship')"
      >
        ğŸšš Ship to Address
      </button>

      <button
        type="button"
        class="btn-option"
        [class.active]="deliveryMethod === 'pickup'"
        (click)="selectDeliveryMethod('pickup')"
      >
        ğŸ¬ Pick-Up from Store
      </button>
    </div>

    <!-- âœ… Ù„ÙˆØ¯Ø± Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª -->
    <div *ngIf="isLoading" class="text-center my-4">
      <div class="spinner-border text-primary" role="status"></div>
      <p class="mt-2">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...</p>
    </div>

    <!-- Ø§Ù„Ø®Ø·ÙˆØ© 1: Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªÙˆØµÙŠÙ„ -->
<div *ngIf="currentStep === 1 && deliveryMethod === 'ship'" class="form-section" id="deliverySection">
  <p class="text-success">âœ… Delivery Step is Active</p>

  <ng-container *ngIf="checkoutModel && checkoutModel.billingData; else missingBilling">
    <p class="text-muted">BillingData Status: Ready</p>

    <app-delivery-info
      [checkoutModel]="checkoutModel"
      [currentStep]="currentStep"
      (nextStep)="nextStep()"
    ></app-delivery-info>
  </ng-container>

  <ng-template #missingBilling>
    <p class="text-danger">âŒ BillingData is missing!</p>
  </ng-template>
</div>



    <!-- Ø§Ù„Ø®Ø·ÙˆØ© 2: Ø§Ù„Ø¯ÙØ¹ -->
    <div *ngIf="currentStep === 2" class="form-section" id="paymentSection">
      <app-payment-info
        [checkoutModel]="checkoutModel"
        [currentStep]="currentStep"
        (nextStep)="nextStep()"
        (previousStep)="previousStep()"
      ></app-payment-info>
    </div>

    <!-- Ø§Ù„Ø®Ø·ÙˆØ© 3: Ø§Ù„ØªØ£ÙƒÙŠØ¯ -->
    <div *ngIf="currentStep === 3" class="form-section" id="confirmationSection">
      <app-order-confirmation
        [checkoutModel]="checkoutModel"
        [currentStep]="currentStep"
        (placeOrder)="onPlaceOrder()"
        (previousStep)="previousStep()"
      ></app-order-confirmation>
    </div>

  </div>

  <!-- ğŸ‘‰ Summary Column -->
  <div class="checkout-summary w-25">
    <app-order-summary
      [checkoutModel]="checkoutModel"
      [shopName]="shopName"
    ></app-order-summary>
  </div>
</div>
