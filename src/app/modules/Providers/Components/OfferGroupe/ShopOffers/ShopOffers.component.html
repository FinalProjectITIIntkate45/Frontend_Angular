<div class="container py-4">
  <div class="d-flex justify-content-between align-items-center mb-6 header-section">
    <h2 class="mb-0 text-primary">ðŸ“¦ Current Offers</h2>
    <button routerLink="/provider/make-offer" class="btn btn-primary create-btn">
      <i class="fas fa-plus"></i> Create New Offer
    </button>
  </div>

  <!-- Loading indicator -->
  <div *ngIf="loading" class="loading-section text-center py-5">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
    <p class="mt-3 text-muted">Loading offers...</p>
  </div>

  <!-- No offers message -->
  <div *ngIf="!loading && offers.length === 0" class="no-offers-section alert alert-info text-center">
    <i class="fas fa-info-circle me-2"></i>
    No offers available. You can create a new offer by clicking "Create New Offer".
  </div>

  <!-- Offers list -->
  <div *ngIf="!loading && offers.length > 0" class="products-grid">
    <div *ngFor="let offer of offers" class="product-card">
      <div class="product-badge">{{ getStatusText(offer.Status) }}</div>
      <div *ngIf="offer.OfferImgUrl" class="product-image">
        <img [src]="offer.OfferImgUrl + (offer.OfferImgUrl.includes('?') ? '&' : '?') + 'quality=hd'" 
             alt="Offer Image" 
             class="img-fluid rounded" 
             style="width: 100%; height: 100%; object-fit: cover;" />
      </div>
      <h6 class="product-title">Offer #{{ offer.Id }}</h6>
      <div class="product-details">
        <div class="detail-item">
          <i class="far fa-calendar-alt me-1"></i>
          From {{ offer.StartDate | date:'shortDate' }} to {{ offer.EndDate | date:'shortDate' }}
        </div>
        <div class="detail-item">
          <span class="price-old">Old Price: {{ offer.OldPrice }} EGP</span>
          <span class="price-current">New Price: {{ offer.NewPrice }} EGP</span>
        </div>
        <div class="detail-item">
          <span class="price-current">Price in Points: {{ offer.offerPricePoint }}</span>
        </div>
        <div class="detail-item">
          <span class="badge bg-light text-dark">
            <i class="fas fa-boxes me-1"></i> {{ offer.Products.length }} Products
          </span>
        </div>
      </div>
      <div class="action-buttons">
        <button [routerLink]="['/provider/offer-details', offer.Id]" class="btn-action blue w-100 mb-2">
          <i class="fas fa-info-circle me-1"></i> Details
        </button>
        <button (click)="editOffer(offer)" class="btn-action yellow w-100 mb-2" [disabled]="offer.Status !== 0">
          <i class="fas fa-edit me-1"></i> Edit
        </button>
        <button (click)="editOfferProducts(offer)" class="btn-action yellow w-100 mb-2">
          <i class="fas fa-boxes me-1"></i> Products
        </button>
        <button (click)="deleteOffer(offer)" class="btn-action red w-100" [disabled]="offer.Status !== 0">
          <i class="fas fa-trash me-1"></i> Delete
        </button>
      </div>
    </div>
  </div>

  <!-- Pagination -->
  <nav *ngIf="totalPages > 1" aria-label="Page navigation" class="pagination-section text-center mt-6">
    <ul class="pagination justify-content-center">
      <li class="page-item" [class.disabled]="pageNumber === 1">
        <a class="page-link" (click)="prevPage()" aria-label="Previous">
          <span aria-hidden="true">Â«</span>
        </a>
      </li>
      <li *ngFor="let page of generatePages()" class="page-item" [class.active]="page === pageNumber">
        <a class="page-link" (click)="goToPage(page)">{{ page }}</a>
      </li>
      <li class="page-item" [class.disabled]="pageNumber === totalPages">
        <a class="page-link" (click)="nextPage()" aria-label="Next">
          <span aria-hidden="true">Â»</span>
        </a>
      </li>
    </ul>
    <div class="text-center text-muted small mt-2">
      Showing {{ (pageNumber - 1) * pageSize + 1 }} - {{ getToIndex() }} of {{ totalRecords }} items
    </div>
  </nav>
</div> 
  