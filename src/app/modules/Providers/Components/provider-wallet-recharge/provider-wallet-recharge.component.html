<div class="provider-wallet-recharge">
    <h3 class="mb-4 fw-bold text-center">Recharge Wallet</h3>
    <form [formGroup]="rechargeForm" (ngSubmit)="rechargeWithCheckoutSession()" class="d-flex flex-column gap-3">
        <div class="d-flex flex-wrap gap-2 justify-content-center mb-2">
            <button type="button" *ngFor="let amt of predefinedAmounts" (click)="selectAmount(amt)"
                class="btn btn-outline-primary btn-sm">
                {{ amt }} EGP
            </button>
        </div>
        <div class="form-group mb-2">
            <label for="amount" class="form-label">Amount (EGP)</label>
            <input id="amount" type="number" formControlName="amount" min="1" max="10000" required
                class="form-control" />
            <div class="text-danger small mt-1" *ngIf="amount?.invalid && (amount?.dirty || amount?.touched)">
                <span *ngIf="amount?.errors?.['required']">Amount is required.</span>
                <span *ngIf="amount?.errors?.['min']">Minimum is 1 EGP.</span>
                <span *ngIf="amount?.errors?.['max']">Maximum is 10,000 EGP.</span>
            </div>
        </div>
        <div class="d-flex gap-2 justify-content-center">
            <button type="submit" [disabled]="loading || rechargeForm.invalid" class="btn btn-primary px-4">Pay with
                Stripe</button>
            <button type="button" (click)="resetForm()" [disabled]="loading"
                class="btn btn-outline-secondary px-4">Reset</button>
        </div>
    </form>
    <div class="status mt-3 text-center">
        <div class="text-danger" *ngIf="error">{{ error }}</div>
        <div class="text-success" *ngIf="success">{{ success }}</div>
    </div>
</div>